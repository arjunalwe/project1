{
  "locations": [
    {
      "id": 0,
      "name": "Dorm - Chestnut Residence",
      "brief_description": "Your dorm that your share with your roommate.",
      "long_description": "Your dorm at Chestnut Residence. It's a bit far from campus, but at least you have your own bathroom.",
      "available_commands": {
        "exit": 1
      },
      "items": [
        "Old Spice Swagger Deodorant"
      ]
    },
    {
      "id": 1,
      "name": "Dining Commons - Chestnut Residence",
      "brief_description": "You can eat some food here.",
      "long_description": "Your residence dining hall. The food is okay, but at least it's mandatory. You were here pretty late last night, but you don't seem to recall much...",
      "available_commands": {
        "exit": 2,
        "go home": 0
      },
      "items": [
        "Lucky Mug",
        "Shawarma Wrap",
        "Monster Mango Loco Punch"
      ]
    },
    {
      "id": 2,
      "name": "King's College Circle",
      "brief_description": "Front campus. From here, you can access Hart House at the north, the Gerstein Science Information Centre to your east, the Bahen Centre for Information Technology to your west, and Chestnut to your south.",
      "long_description": "The heart of UofT, where you can see the iconic view of University College. It's quite cold, so there aren't many students around. From here, you can access Hart House at the north, the Gerstein Science Information Centre to your east, the Bahen Centre for Information Technology to your west, and Chestnut to your south.",
      "available_commands": {
        "go north": 3,
        "go south": 1,
        "go east": 7,
        "go west": 4
      },
      "items": []
    },
    {
      "id": 3,
      "name": "Hart House - Main",
      "brief_description": "",
      "long_description": "",
      "available_commands": {
        "go north": 6,
        "go west": 5,
        "go east": 8,
        "go south": 2
      },
      "items": []
    },
    {
      "id": 8,
      "name": "Hart House - Gym",
      "brief_description": "",
      "long_description": "",
      "available_commands": {
        "go west": 3
      },
      "items": []
    },
    {
      "id": 9,
      "name": "Hart House - Arbor Room",
      "brief_description": "",
      "long_description": "",
      "available_commands": {
        "go north": 3,
        "go south": 2
      },
      "items": [
        "Monster Mango Loco Punch",
        "Shawarma Wrap"
      ]
    },
    {
      "id": 4,
      "name": "Bahen Centre for Information Technology",
      "brief_description": "",
      "long_description": "",
      "available_commands": {
        "go north": 5,
        "go east": 2,
        "go south": 1
      },
      "items": []
    },
    {
      "id": 5,
      "name": "John P. Robarts Research Library",
      "brief_description": "",
      "long_description": "",
      "available_commands": {
        "go east": 3,
        "go south": 4
      },
      "items": []
    },
    {
      "id": 6,
      "name": "Muzzo Family Alumni Hall",
      "brief_description": "",
      "long_description": "",
      "available_commands": {
        "go south": 3
      },
      "items": []
    },
    {
      "id": 7,
      "name": "Gerstein Science Information Centre",
      "brief_description": "",
      "long_description": "",
      "available_commands": {
        "go west": 2
      },
      "items": []
    }
  ],
  "initial_flags": {
    "usb_known_in_locker": false,
    "has_tcard": false,
    "know_alumni_hall": false,
    "has_jacket": false
  },
  "rules": [
    {
      "when": {
        "moves_at_least": 8,
        "flags": {
          "usb_known_in_locker": false
        }
      },
      "then": [
        {
          "type": "print",
          "message": "Oh shi, you just forgot that you left the USB Drive in a Hart House locker."
        },
        {
          "type": "set_flag",
          "flag": "usb_known_in_locker",
          "value": true
        }
      ]
    }
  ],
  "npcs": [
    {
      "name": "friend",
      "location": 2,
      "dialogue": [
        {
          "requires": {
            "flags": {
              "has_jacket": true
            }
          },
          "say": "Bless. Here’s your TCard crodie.",
          "effects": [
            {
              "type": "set_flag",
              "flag": "has_tcard",
              "value": true
            }
          ]
        },
        {
          "requires": {
            "flags": {
              "has_jacket": false
            }
          },
          "say": "I got your T-Card mattey but it’s in my jacket. I left it at Alumni Hall. Maybe you can get the jacket back to me, and in exchange you get the TCard :>",
          "effects": []
        }
      ]
    },
    {
      "name": "paul",
      "location": 4,
      "dialogue": [
        {
          "requires": {
            "flags": {
              "know_alumni_hall": false
            }
          },
          "say": "Alumni Hall is north of Hart House.",
          "effects": [
            {
              "type": "set_flag",
              "flag": "know_alumni_hall",
              "value": true
            }
          ]
        }
      ]
    },
    {
      "name": "gerstein_friend",
      "location": 7,
      "dialogue": [
        {
          "requires": {
            "flags": {
              "know_alumni_hall": false
            }
          },
          "say": "Alumni Hall is north of Hart House honey.",
          "effects": [
            {
              "type": "set_flag",
              "flag": "know_alumni_hall",
              "value": true
            }
          ]
        }
      ]
    }
  ],
  "interactions": [
    {
      "command": "search jacket pile",
      "locations": [
        6
      ],
      "requires": {
        "flags": {
          "know_alumni_hall": true,
          "has_jacket": false
        }
      },
      "effects": [
        {
          "type": "print",
          "message": "You find your friend's jacket. Good job."
        },
        {
          "type": "set_flag",
          "flag": "has_jacket",
          "value": true
        }
      ]
    },
    {
      "command": "open locker",
      "locations": [
        3
      ],
      "requires": {
        "flags": {
          "usb_known_in_locker": true,
          "has_tcard": true
        }
      },
      "effects": [
        {
          "type": "print",
          "message": "You tap your T-Card. The locker opens. Your USB Drive is inside."
        },
        {
          "type": "spawn_item_here",
          "item": "USB Drive"
        }
      ]
    },
    {
      "command": "open locker",
      "locations": [
        3
      ],
      "requires": {
        "flags": {
          "usb_known_in_locker": true,
          "has_tcard": false
        }
      },
      "effects": [
        {
          "type": "print",
          "message": "The locker needs a Tcard."
        }
      ]
    },
    {
      "command": "open locker",
      "locations": [
        3
      ],
      "requires": {
        "flags": {
          "usb_known_in_locker": false
        }
      },
      "effects": [
        {
          "type": "print",
          "message": "This is a locker, but you don’t need it (yet)..."
        }
      ]
    }
  ],
  "items": [
    {
      "name": "Old Spice Swagger Deodorant",
      "description": "There is a stick of deodorant on your nightstand. You should probably use this.",
      "start_position": 0,
      "target_position": 4,
      "target_points": 5
    },
    {
      "name": "Lucky Mug",
      "description": "Your lucky UofT mug. This isn’t just any mug—it’s the one that’s been with you through every late-night study session, every major deadline, and every all-nighter. You can’t possibly submit without it!",
      "start_position": 1,
      "target_position": 0,
      "target_points": 50
    },
    {
      "name": "USB Drive",
      "description": "Somehow your only copy of your project. Who even uses USB drives in the big 26? You can’t possibly submit without it!",
      "start_position": 1,
      "target_position": 0,
      "target_points": 50
    },
    {
      "name": "Laptop Charger",
      "description": "A ginourmous 200W laptop charger. Your laptop won't just take any random connector- it needs this specific one. You can’t possibly submit without it!",
      "start_position": 1,
      "target_position": 0,
      "target_points": 50
    },
    {
      "name": "Monster Mango Loco Punch",
      "description": "Your favourite flavour of Monster.",
      "start_position": 1,
      "target_position": 4,
      "target_points": 10
    },
    {
      "name": "Shawarma Wrap",
      "description": "A quick, nutritious, and portable snack.",
      "start_position": 1,
      "target_position": 4,
      "target_points": 5
    }
  ]
}